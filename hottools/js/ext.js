$.extend($.fn.validatebox.defaults.rules, { equals: { validator: function (n, t) { return n == $(t[0]).val() }, message: "Field do not match." }, fail: { validator: function (n, t) { return n != t[0] }, message: "Validate fail！" }, double: { validator: function (n) { var i = /^([1-9]\d*|(0|[1-9]\d*)\.\d*[0-9])$/; return i.test(n) } }, chinese: { validator: function (n) { var i = /[\u4e00-\u9fa5]/g; return i.test(n) } }, idcard: { validator: function (n) { var i = /(^\d{18}$)|(^\d{17}(\d|X|x)$)/; return i.test(n) } }, areacode: { validator: function (n) { var i = /^([0-9]{3,4})?$/; return i.test(n) } }, telephone: { validator: function (n) { var i = /^((\d{3,4})|(\d{3,4}-))?([0-9]\d{6,7})(\-\d{1,4})?$/; return i.test(n) } }, mobile: { validator: function (n) { var i = /^1[358]\d{9}$/; return i.test(n) } }, qqnumber: { validator: function (n) { var i = /^\d{4,12}$/; return i.test(n) } }, doublerange: { validator: function (n, t) { var r = /^([1-9]\d*|(0|[1-9]\d*)\.\d*[0-9])$/, i; return r.test(n) && (i = parseFloat(n), i >= t[0] && i <= t[1]) ? !0 : !1 }, message: "贷款金额范围5000-50000" }, expressnum: { validator: function (n) { var i = /^[A-Za-z0-9]+$/; return i.test(n) } }, maxdate: { validator: function (n, t) { var r = new Date, i; return t[0] != "current" && (r = new Date(t[0])), i = new Date(n), r - i > 0 }, message: "选择的日期不正确！" }, agerange: { validator: function (n, t) { var i = 0, r = new Date, o = r.getFullYear(), s = r.getMonth() + 1, h = r.getDate(); if (t[0] == "idcard") { var u = n.substring(6, 10), f = n.substring(10, 12), e = n.substring(12, 14); i = o - u - 1, f <= s && e <= h && i++ } return i >= t[1] && i <= t[2] }, message: "年龄不符合要求" }, selectValueRequired: { validator: function (n) { return n == "" || n.indexOf("选择") >= 0 || n.indexOf("全部") >= 0 ? !1 : !0 }, message: "该下拉框为必选项" } }); var easyuiPanelOnMove = function (n, t) { var i = $(this).panel("panel").parent(); n < 0 && $(this).window("move", { left: 1 }), t < 0 && $(this).window("move", { top: 1 }); var f = $(this).panel("options").width, u = i.width(), r = i.height(); i.css("overflow") == "hidden" && (n > u - f && $(this).window("move", { left: u - f }), t > r - 30 && $(this).window("move", { top: r - 30 })) }; $.fn.panel.defaults.onMove = easyuiPanelOnMove, $.fn.window.defaults.onMove = easyuiPanelOnMove, $.fn.dialog.defaults.onMove = easyuiPanelOnMove